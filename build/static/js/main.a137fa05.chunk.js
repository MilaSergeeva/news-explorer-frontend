(this["webpackJsonpnews_explorer-frontend"]=this["webpackJsonpnews_explorer-frontend"]||[]).push([[0],Array(31).concat([function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),s=a.n(c),i=a(19),o=a.n(i),r=(a(31),a(5)),l=a(20),u=a(2),d=a(3),j=(a(32),a(33),a.p+"static/media/newsExplorerWhite.16fd9b4d.svg"),b=(a(34),a.p+"static/media/exitWhite.14e8b541.svg"),p=a.p+"static/media/exitBlack.6808b0a9.svg";var h=function(e){var t=e.isMenuOpened,a=e.onAutorizationClick,c=e.onChangeActiveStatus,s=e.onCloseMenu,i=e.loggedIn,o=e.onSignOut,l=e.pathName,u=e.currentUser;return Object(n.jsx)("div",{className:"header-bar__menu",children:!1===i?Object(n.jsxs)("div",{className:"header-bar__menu-container ".concat(!0===t?"opened":""),children:[Object(n.jsx)(r.c,{exact:!0,to:"/",activeClassName:"activeMain",className:"header-bar__nav-link color-black",onClick:c,children:Object(n.jsx)("p",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(n.jsx)("button",{type:"button","aria-label":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",className:"header-bar__button",onClick:a,children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})]}):Object(n.jsxs)("div",{className:"header-bar__menu-container ".concat(!0===t?"opened":""),children:[Object(n.jsx)(r.c,{exact:!0,to:"/",activeClassName:"activeMain",className:"header-bar__nav-link color-black",onClick:c,children:Object(n.jsx)("p",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(n.jsx)(r.c,{exact:!0,to:"/saved-news",activeClassName:"activeSavedNews",className:"header-bar__nav-link color-white",onClick:c,children:Object(n.jsx)("p",{className:"header-bar__saved-news",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"})}),Object(n.jsxs)(r.b,{to:"/",className:"header-bar__button ".concat("/"===l?" ":"color-black"),onClick:function(){s(),o()},children:[u.name,Object(n.jsx)("img",{className:"header-bar__exit-img",src:"/"===l?b:p,alt:"\u0437\u043d\u0430\u043a \u0432\u044b\u0445\u043e\u0434\u0430"})]})]})})},m=(a(40),a.p+"static/media/newsExplorerBlack.ddd1bf25.svg");var O=function(e){var t=e.isMenuOpened,a=e.onMenuTagClick,c=e.onChangeActiveStatus,s=e.onCloseMenu,i=e.onSignOut,o=e.currentUser;return Object(n.jsxs)("div",{className:"header-bar white-theme",children:[Object(n.jsx)(r.b,{to:"/",className:"header-bar__logo-link",children:Object(n.jsx)("img",{className:"header-bar__logo",src:m,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(n.jsx)("div",{className:"header-bar__menu-icon-container",children:Object(n.jsxs)("div",{className:"header-bar__menu-icon",onClick:a,children:[Object(n.jsx)("div",{className:"header-bar__menu-icon-line1 white-theme-menu-icon-background"}),Object(n.jsx)("div",{className:"header-bar__menu-icon-line2 white-theme-menu-icon-background"})]})}),Object(n.jsx)(h,{style:{color:"#000"},isMenuOpened:t,onChangeActiveStatus:c,onCloseMenu:s,onSignOut:i,currentUser:o})]})};var f=function(e){var t=e.onAutorizationClick,a=e.onChangeActiveStatus,c=e.onMenuTagClick,s=e.isMenuOpened,i=e.darkBackgroundHeader,o=e.onCloseMenu,l=e.loggedIn,u=e.onSignOut,b=e.pathName,p=e.currentUser;return Object(n.jsxs)("header",{className:"header ".concat(!0===s?"header__border-radius":" "),children:[Object(n.jsx)(d.b,{exact:!0,path:"/",children:Object(n.jsxs)("div",{className:"header-bar ".concat(!0===i?"dark-theme":" "),children:[Object(n.jsx)(r.b,{to:"/",className:"header-bar__logo-link",children:Object(n.jsx)("img",{className:"header-bar__logo",src:j,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(n.jsx)("div",{className:"header-bar__menu-icon-container",children:Object(n.jsxs)("div",{className:"header-bar__menu-icon ".concat(s?"change":" "),onClick:c,children:[Object(n.jsx)("div",{className:"header-bar__menu-icon-line1"}),Object(n.jsx)("div",{className:"header-bar__menu-icon-line2"})]})}),Object(n.jsx)(h,{style:{color:"#fff"},isMenuOpened:s,onAutorizationClick:t,onChangeActiveStatus:a,onCloseMenu:o,loggedIn:l,onSignOut:u,pathName:b,currentUser:p})]})}),Object(n.jsx)(d.b,{exact:!0,path:"/saved-news",children:Object(n.jsx)(O,{isMenuOpened:s,onMenuTagClick:c,onChangeActiveStatus:a,onCloseMenu:o,onSignOut:u,currentUser:p})})]})};a(41),a(42),a(43);var g=function(e){var t=e.article,a=e.loggedIn,c=e.onToggleClick,s=e.isArticleSaved,i=function(e){var t=new Date(e),a=t.toLocaleString("ru-Ru",{year:"numeric"}),n=t.toLocaleString("ru-Ru",{day:"2-digit",month:"long"});return"".concat(n,", ").concat(a)}(t.publishedAt||t.date);return Object(n.jsxs)("figure",{className:"news-card",children:[Object(n.jsx)("a",{href:t.url||t.link,className:"",target:"_blank",children:Object(n.jsx)("img",{className:"news-card__img",src:t.urlToImage||t.image,alt:t.keyword})}),Object(n.jsxs)("div",{className:"news-card__lables",children:[Object(n.jsxs)(d.b,{exact:!0,path:"/",children:[Object(n.jsx)("button",{type:"button","aria-label":"save",className:"news-card__save-btn ".concat(s&&"saved"),onClick:function(){a&&c(t)}}),Object(n.jsx)("p",{className:"news-card__save-notification",style:{display:a?"none":"inline-block"},children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438"})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/saved-news",children:[Object(n.jsx)("p",{className:"news-card__search-tag",children:t.keyword}),Object(n.jsx)("button",{type:"button","aria-label":"delete",className:"news-card__delete-btn",onClick:function(){c(t)}}),Object(n.jsx)("p",{className:"news-card__delete-notification",children:"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445"})]})]}),Object(n.jsx)("a",{href:t.url||t.link,className:"news-card__link-to-news",target:"_blank",children:Object(n.jsxs)("figcaption",{className:"news-card__inf-container",children:[Object(n.jsx)("time",{className:"news-card__date",children:i}),Object(n.jsxs)("div",{className:"news-card__content",children:[Object(n.jsx)("h3",{className:"news-card__title",children:t.title}),Object(n.jsx)("p",{className:"news-card__text",children:t.description||t.text})]}),Object(n.jsx)("p",{className:"news-card__resource",children:t.source.name||t.source})]})})]})};var _=function(e){var t=e.loggedIn,a=e.articles,i=e.savedNews,o=e.onToggleClick,r=Object(c.useState)(3),l=Object(u.a)(r,2),d=l[0],j=l[1],b=function(e){if(t)return!!i.find((function(t){return t.title===e.title}))};return s.a.useEffect((function(){j(3)}),[a]),Object(n.jsxs)("div",{className:"search-result-success",children:[Object(n.jsx)("h2",{className:"search-result-success__tile",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(n.jsx)("div",{className:"news-card-list",children:a.slice(0,d).map((function(e){return Object(n.jsx)(g,{article:e,loggedIn:t,onToggleClick:o,isArticleSaved:b(e)},e.publishedAt)}))}),d<=a.length?Object(n.jsx)("button",{type:"button","aria-label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435",className:"search-result-success__button",onClick:function(){j(d+3)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451"}):""]})},x=(a(44),a.p+"static/media/avatar.c8d70603.png");var v=function(){return Object(n.jsxs)("div",{className:"profile__container",children:[Object(n.jsx)("img",{className:"profile__avatar",src:x,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"}),Object(n.jsxs)("div",{className:"profile__about",children:[Object(n.jsx)("h3",{className:"profile__title",children:"\u041e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435"}),Object(n.jsx)("p",{className:"profile__context",children:"\u042d\u0442\u043e \u0431\u043b\u043e\u043a \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u0430\u0432\u0442\u043e\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u0417\u0434\u0435\u0441\u044c \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043a\u0430\u043a \u0432\u0430\u0441 \u0437\u043e\u0432\u0443\u0442, \u0447\u0435\u043c \u0432\u044b \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0435\u0441\u044c, \u043a\u0430\u043a\u0438\u043c\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u043c\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u043b\u0430\u0434\u0435\u0435\u0442\u0435. \u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0432 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0435, \u0447\u0435\u043c\u0443 \u0432\u044b \u0442\u0443\u0442 \u043d\u0430\u0443\u0447\u0438\u043b\u0438\u0441\u044c, \u0438 \u0447\u0435\u043c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043c\u043e\u0447\u044c \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430\u043c. "})]})]})};a(45);var N=function(e){var t=e.onSearch,a=Object(c.useState)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"),i=Object(u.a)(a,2),o=i[0],r=i[1],l=Object(c.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],p=s.a.useState(!1),h=Object(u.a)(p,2),m=h[0],O=h[1];return s.a.useEffect((function(){"query"in localStorage&&b(localStorage.getItem("query"))}),[]),Object(n.jsxs)("div",{className:"search-form",children:[Object(n.jsx)("h1",{className:"search-form__title",children:"\u0427\u0442\u043e \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0432 \u043c\u0438\u0440\u0435?"}),Object(n.jsx)("p",{className:"search-form__text",children:"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0441\u0432\u0435\u0436\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0432 \u0441\u0432\u043e\u0451\u043c \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435."}),Object(n.jsxs)("div",{className:"search-form__input-fild",children:[Object(n.jsx)("input",{type:"text",name:"search",className:"search-form__input",minLength:"2",maxLength:"40",autoComplete:"off",pattern:"^[A-Za-z\u0410-\u042f\u0430-\u044f]{2,40}$",value:j,placeholder:o,onChange:function(e){var t=e.target,a=t.value;b(a),O(t.closest("input").checkValidity())},required:!0}),Object(n.jsx)("button",{type:"button","aria-label":"\u0418\u0441\u043a\u0430\u0442\u044c",className:"search-form__search-button",onClick:function(e){e.preventDefault(),m?t(j):(b(""),r("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"),localStorage.removeItem("query"))},children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]})]})};a(46);var k=function(){return Object(n.jsxs)("div",{className:"preloader",children:[Object(n.jsx)("div",{className:"preloader__icon"}),Object(n.jsx)("p",{className:"preloader__text",children:"\u0418\u0434\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439..."})]})},S=(a(47),a.p+"static/media/not-found.8fabc218.svg");var w=function(){return Object(n.jsxs)("div",{className:"search-result-fail",children:[Object(n.jsx)("img",{className:"search-result-fail__img",src:S,alt:"not-found"}),Object(n.jsx)("h3",{className:"search-result-fail__title",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Object(n.jsx)("p",{className:"search-result-fail__paragraph",children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."})]})},C=a(9),y=a(25),I=function(e){var t=e.component,a=Object(y.a)(e,["component"]);return Object(n.jsx)(d.b,Object(C.a)(Object(C.a)({},a),{},{render:function(e){return!0===a.loggedIn?Object(n.jsx)(t,Object(C.a)(Object(C.a)({},e),a)):Object(n.jsx)(d.a,{to:{pathname:"/",search:"?showAuth=1"}})}}))},T=(a(48),s.a.createContext());var A=function(e){var t=e.articles,a=s.a.useContext(T),c=s.a.useState(""),i=Object(u.a)(c,2),o=i[0],r=i[1],l=s.a.useState(""),d=Object(u.a)(l,2),j=d[0],b=d[1],p=s.a.useState({}),h=Object(u.a)(p,2),m=h[0],O=h[1],f=t.length;return s.a.useEffect((function(){var e={};t.forEach((function(t){t.keyword in e?e[t.keyword]+=1:e[t.keyword]=1}));var a=Object.keys(e).sort((function(t,a){return e[a]-e[t]}));if(O(a),a.length<=3){var n=a.join(", ");r(n)}else{var c="".concat(a[0],", ").concat(a[1]," "),s=" ".concat(a.length-2,"-\u043c \u0434\u0440\u0443\u0433\u0438\u043c");r(c),b(s)}}),[t]),Object(n.jsxs)("div",{className:"user-info",children:[Object(n.jsx)("h5",{className:"user-info__title",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(n.jsxs)("h2",{className:"user-info__main-info",children:[a.name,", \u0443 \u0432\u0430\u0441 ",f," \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0442\u0435\u0439"]}),Object(n.jsxs)("p",{className:"user-info__additional-info",children:["\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c:",Object(n.jsxs)("span",{className:"user-info__additional-info_font_bold",children:[" ",o]}),m.length>3&&Object(n.jsx)("span",{className:"user-info__additional-info_font_bold",children:j})]})]})};a(49);var E=function(e){var t=e.loggedIn,a=e.articles,c=e.onToggleClick;return Object(n.jsx)("div",{className:"saved-news",children:Object(n.jsx)("div",{className:"news-card-list",children:a.map((function(e){return Object(n.jsx)(g,{article:e,loggedIn:t,onToggleClick:c},e._id)}))})})};var L=function(e){var t=e.articles,a=e.onToggleClick;return Object(n.jsxs)("div",{children:[Object(n.jsx)(A,{articles:t}),Object(n.jsx)(E,{articles:t,onToggleClick:a})]})};var M=function(e){var t=e.loggedIn,a=e.savedNews,c=e.onSearch,s=e.articles,i=e.searchSuccess,o=e.preloaderIsOn,r=e.onToggleClick,l=e.isArticleSaved;return e.currentUser,Object(n.jsxs)("div",{className:"main-content",children:[Object(n.jsxs)(d.b,{exact:!0,path:"/",children:[Object(n.jsx)(N,{onSearch:c}),o?Object(n.jsx)(k,{}):"",Object(n.jsxs)("section",{className:"search-result",children:[i&&Object(n.jsx)(_,{loggedIn:t,articles:s,savedNews:a,onToggleClick:r,isArticleSaved:l}),!1===i&&Object(n.jsx)(w,{})]})]}),Object(n.jsx)(I,{exact:!0,path:"/saved-news",articles:a,onToggleClick:r,loggedIn:t,component:L}),Object(n.jsx)(d.b,{exact:!0,path:"/",children:Object(n.jsx)("section",{className:"profile",children:Object(n.jsx)(v,{})})})]})},R=(a(50),a.p+"static/media/facebook.ce8865e2.svg"),q=a.p+"static/media/gitHub.2699c069.svg";var U=function(){return Object(n.jsxs)("footer",{className:"footer",children:[Object(n.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Supersite, Powered by News API"}),Object(n.jsx)(d.b,{path:"/*",children:Object(n.jsxs)("nav",{className:"footer__nav",children:[Object(n.jsxs)("ul",{className:"footer__nav-links",children:[Object(n.jsx)("li",{children:Object(n.jsx)(r.b,{to:"/",className:"footer__nav-link",children:Object(n.jsx)("p",{className:"footer__link-to-main",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://praktikum.yandex.ru",className:"footer__nav-link",target:"_blank",children:Object(n.jsx)("p",{className:"footer__link-to-praktikum",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})})})]}),Object(n.jsxs)("ul",{className:"footer__sosial-links",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://github.com",target:"_blank",className:"footer__gitHub-logo",children:Object(n.jsx)("img",{className:"footer__link-to-gitHub",src:q,alt:"gitHub_logo"})})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://facebook.com",target:"_blank",className:"footer__facebook-logo",children:Object(n.jsx)("img",{className:"footer__link-to-facebook",src:R,alt:"facebook"})})})]})]})})]})},P=a(22),z=a(23),V=a(24),B=a.n(V),D=function(){function e(t){var a=t.baseUrl,n=t.headers;Object(P.a)(this,e),this.baseUrl=a,this.headers=n}return Object(z.a)(e,[{key:"makeRequest",value:function(e,t,a){var n="".concat(this.baseUrl,"/").concat(e),c={method:"".concat(t),headers:this.headers};return void 0!==a&&["POST","PUT","PATCH"].includes(t)?c.body=JSON.stringify(a):void 0!==a&&(n="".concat(n,"?").concat(B.a.encode(a))),fetch(n,c).then((function(e){return e.ok?e.json():e.status>=400&&e.status<500?e.json().then((function(e){return Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.message))})).catch((function(e){console.log(e.message,"\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))})):Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})).catch((function(e){console.log(e.message,"\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"getSavedNews",value:function(){return this.makeRequest("articles","GET")}},{key:"saveNews",value:function(e){return this.makeRequest("articles","POST",e)}},{key:"deleteSavedNews",value:function(e){var t="articles/".concat(e);return this.makeRequest(t,"DELETE")}},{key:"getUserInfo",value:function(){return this.makeRequest("users/me","GET")}},{key:"getNews",value:function(e,t,a,n,c){var s={apiKey:e,q:t,from:a,to:n,pageSize:c};return this.makeRequest("everything","GET",s)}}]),e}(),H="https://news-exploer.herokuapp.com/api",J="jwt",$=function(){return localStorage.getItem(J)},F=function(){localStorage.removeItem(J)},W=new D({baseUrl:"".concat(H),headers:{authorization:"Bearer ".concat($()),"Content-Type":"application/json"}});function G(e){return new D({baseUrl:"".concat(H),headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})}var Z=new D({baseUrl:"https://nomoreparties.co/news/v2",headers:{Accept:"application/json","Content-Type":"application/json"}}),K=(a(53),a(54),function(e){return Object(n.jsx)("div",{className:"popup popup_".concat(e.name," ").concat(e.isOpen&&"popup_opened"," "),children:Object(n.jsxs)("div",{className:"popup__container",onClick:e.onClick,children:[Object(n.jsx)("button",{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",className:"popup__close",onClick:e.onClose}),Object(n.jsx)("div",{className:"popup__content",children:Object(n.jsxs)("form",{method:"POST",name:"user-info",className:"popup__form",onSubmit:e.onSubmit,noValidate:!0,disabled:e.isSubmitting,children:[Object(n.jsx)("h3",{className:"popup__title",children:e.title}),e.children,Object(n.jsx)("span",{className:"popup__error popup__error_position",children:e.errorMassageOnSubmit||""}),Object(n.jsx)("button",{type:"submit",className:"popup__btn-save ".concat(e.isValid&&!0!==e.isSubmitting?"active-btn":""),"data-submitting-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f...",disabled:!0!==e.isValid||e.isSubmitting,children:e.savebtn}),Object(n.jsxs)("p",{className:"popup__redirect",children:["\u0438\u043b\u0438\xa0",Object(n.jsx)("span",{className:"popup__redirect-to",onClick:e.onRedirect,children:e.redirectTo})]})]})})]})})}),Y=a(12);var Q=function(){var e=s.a.useState({}),t=Object(u.a)(e,2),a=t[0],n=t[1],i=s.a.useState({}),o=Object(u.a)(i,2),r=o[0],l=o[1],d=s.a.useState(!1),j=Object(u.a)(d,2),b=j[0],p=j[1],h=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(e),l(t),p(a)}),[n,l,p]);return{values:a,handleChange:function(e){var t=e.target,c=t.value,s=t.name;n(Object(C.a)(Object(C.a)({},a),{},Object(Y.a)({},s,c))),l(Object(C.a)(Object(C.a)({},r),{},Object(Y.a)({},s,t.validationMessage))),p(t.closest("form").checkValidity())},errors:r,isValid:b,resetForm:h}},X=function(e){var t=e.onClose,a=e.isOpen,s=e.onRedirect,i=e.onClick,o=e.onRegister,r=e.messageOnRegister,l=e.isSubmitting,u=Q(),d=u.values,j=u.handleChange,b=u.errors,p=u.isValid,h=u.resetForm;Object(c.useEffect)((function(){h()}),[a,h]);return Object(n.jsxs)(K,{name:"regstration",title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",savebtn:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onClose:t,onClick:i,isOpen:a,isValid:p,redirectTo:"\u0412\u043e\u0439\u0442\u0438",onRedirect:s,onSubmit:function(e){e.preventDefault(),o(d.email,d.password,d.name)},errorMassageOnSubmit:r,isSubmitting:l,children:[Object(n.jsxs)("fieldset",{className:"popup__input-container",children:[Object(n.jsx)("p",{className:"popup__input-title",children:"Email"}),Object(n.jsx)("input",{type:"email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",className:"popup__input",minLength:"5",maxLength:"40",autoComplete:"off",value:d.email||"",onChange:j,required:!0,disabled:l}),Object(n.jsx)("span",{className:"popup__error",children:b.email||""})]}),Object(n.jsxs)("fieldset",{className:"popup__input-container",children:[Object(n.jsx)("p",{className:"popup__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",className:"popup__input",minLength:"8",maxLength:"30",autoComplete:"off",pattern:"^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&~])[A-Za-z\\d@$!%*#?&~]{8,}$",value:d.password||"",onChange:j,required:!0,disabled:l}),Object(n.jsx)("span",{className:"popup__error",children:b.password?"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0431\u0443\u043a\u0432\u044b, \u0446\u044b\u0444\u0440\u044b, \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u044b (@$!%*#?&~), \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0437\u043d\u0430\u043a\u043e\u0432":""})]}),Object(n.jsxs)("fieldset",{className:"popup__input-container",children:[Object(n.jsx)("p",{className:"popup__input-title",children:"\u0418\u043c\u044f"}),Object(n.jsx)("input",{type:"text",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0451 \u0438\u043c\u044f",className:"popup__input",minLength:"2",maxLength:"30",autoComplete:"off",value:d.name||"",onChange:j,required:!0,disabled:l}),Object(n.jsx)("span",{className:"popup__error",children:b.name||""})]})]})},ee=(a(55),function(e){var t=e.onClose,a=e.isOpen,s=e.onRedirect,i=e.onClick,o=e.onLogin,r=e.messageOnLogin,l=e.isSubmitting,u=Q(),d=u.values,j=u.handleChange,b=u.errors,p=u.isValid,h=u.resetForm;Object(c.useEffect)((function(){h()}),[a,h]);return Object(n.jsxs)(K,{name:"login",title:"\u0412\u0445\u043e\u0434",savebtn:"\u0412\u043e\u0439\u0442\u0438",isOpen:a,onClose:t,onRedirect:s,onClick:i,isValid:p,redirectTo:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onSubmit:function(e){e.preventDefault(),o(d.email,d.password)},errorMassageOnSubmit:r,isSubmitting:l,children:[Object(n.jsxs)("fieldset",{className:"popup__input-container",children:[Object(n.jsx)("p",{className:"popup__input-title",children:"Email"}),Object(n.jsx)("input",{type:"email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",className:"popup__input",minLength:"5",maxLength:"40",autoComplete:"off",value:d.email||"",onChange:j,required:!0,disabled:l}),Object(n.jsx)("span",{className:"popup__error",children:b.email||""})]}),Object(n.jsxs)("fieldset",{className:"popup__input-container",children:[Object(n.jsx)("p",{className:"popup__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",className:"popup__input",minLength:"8",maxLength:"30",autoComplete:"off",value:d.password||"",onChange:j,required:!0,disabled:l}),Object(n.jsx)("span",{className:"popup__error",children:b.password?"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0431\u0443\u043a\u0432\u044b, \u0446\u044b\u0444\u0440\u044b, \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u044b (@$!%*#?&~), \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0437\u043d\u0430\u043a\u043e\u0432":""})]})]})});a(56);var te=function(e){var t=e.success,a=e.isOpen,c=e.onClose,s=e.onClick,i=e.onRedirect;return Object(n.jsx)("div",{className:"popup popup-info-tools ".concat(a&&"popup_opened"),children:Object(n.jsxs)("div",{className:"info-tools",children:[Object(n.jsx)("button",{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",className:"popup__close",onClick:c}),!0===t?Object(n.jsxs)("div",{className:"popup__container",onClick:s,children:[Object(n.jsx)("h3",{className:"popup__title popup__title_position",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d!"}),Object(n.jsx)("span",{className:"popup__redirect-to popup__redirect-to_font-size",onClick:i,children:"\u0412\u043e\u0439\u0442\u0438"})]}):Object(n.jsx)("div",{className:"popup__container",onClick:s,children:Object(n.jsx)("h3",{className:"popup__title popup__title_position",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."})})]})})},ae=a.p+"static/media/header_background.eac7a5b1.png",ne=function(){return"undefined"!==typeof window?new URLSearchParams(window.location.search):new URLSearchParams};var ce=function(){var e,t,a=Object(c.useState)({}),i=Object(u.a)(a,2),o=i[0],r=i[1],j=Object(c.useState)(!0),b=Object(u.a)(j,2),p=b[0],h=b[1],m=Object(c.useState)([]),O=Object(u.a)(m,2),g=O[0],_=O[1],x=Object(c.useState)([]),v=Object(u.a)(x,2),N=v[0],k=v[1],S=Object(c.useState)(!1),w=Object(u.a)(S,2),C=w[0],y=w[1],I=Object(c.useState)(!1),A=Object(u.a)(I,2),E=A[0],L=A[1],R=Object(c.useState)(!1),q=Object(u.a)(R,2),P=q[0],z=q[1],V=Object(c.useState)(!1),B=Object(u.a)(V,2),D=B[0],Y=B[1],Q=Object(c.useState)(!1),ce=Object(u.a)(Q,2),se=(ce[0],ce[1]),ie=Object(c.useState)(!0),oe=Object(u.a)(ie,2),re=oe[0],le=oe[1],ue=Object(c.useState)(!1),de=Object(u.a)(ue,2),je=de[0],be=de[1],pe=Object(c.useState)(""),he=Object(u.a)(pe,2),me=he[0],Oe=he[1],fe=Object(c.useState)(""),ge=Object(u.a)(fe,2),_e=ge[0],xe=ge[1],ve=Object(c.useState)(!1),Ne=Object(u.a)(ve,2),ke=Ne[0],Se=Ne[1],we=Object(c.useState)(null),Ce=Object(u.a)(we,2),ye=Ce[0],Ie=Ce[1],Te=Object(c.useState)(!1),Ae=Object(u.a)(Te,2),Ee=Ae[0],Le=Ae[1],Me=Object(c.useState)(""),Re=Object(u.a)(Me,2),qe=Re[0],Ue=Re[1],Pe=Object(c.useState)(!1),ze=Object(u.a)(Pe,2),Ve=ze[0],Be=ze[1],De=Object(d.f)(),He=Object(d.g)().pathname,Je=new Date,$e=Je.toISOString().substr(0,16),Fe=(e=Je,t=7,new Date(e.getFullYear(),e.getMonth(),e.getDate()-t)).toISOString().substr(0,16);function We(){y(!1),L(!1),be(!1),xe(""),Oe(""),De.push("/")}var Ge=function(){!1===C||!0===je?(y(!0),L(!1),be(!1)):(y(!1),L(!0))},Ze=function(){!0===P&&(z(!1),!0===D&&Y(!1))},Ke=function(e){e.target.classList.contains("popup")&&(se(!0),We())},Ye=function(){return se(!1)};return Object(c.useEffect)((function(){var e,t=document.getElementsByClassName("popup"),a=Object(l.a)(t);try{for(a.s();!(e=a.n()).done;){e.value.addEventListener("mousedown",Ke)}}catch(n){a.e(n)}finally{a.f()}}),[]),Object(c.useEffect)((function(){function e(e){"Escape"===e.key&&We()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),s.a.useEffect((function(){var e=$();if(e){var t=G(e);Promise.all([t.getUserInfo(),t.getSavedNews()]).then((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];r(a),_(n)})).catch((function(e){h(!1),F()}))}else h(!1)}),[p]),s.a.useEffect((function(){if("articles"in localStorage)try{var e=JSON.parse(localStorage.getItem("articles"));k(e),e.length>0&&Ie(!0)}catch(t){console.error("Failed to load articles from local storage. Error ".concat(t.message))}"query"in localStorage&&Ue(localStorage.getItem("query"))}),[]),Object(c.useEffect)((function(){y(!!ne().get("showAuth"))}),[!!ne().get("showAuth")]),Object(n.jsx)(T.Provider,{value:o,children:Object(n.jsxs)("div",{className:"root",children:[Object(n.jsxs)("div",{className:"page",style:{backgroundImage:"".concat("/"===He&&"url(".concat(ae,")"))},children:[Object(n.jsx)(f,{onAutorizationClick:function(){L(!0),!0===P&&(z(!1),Y(!1))},onChangeActiveStatus:function(){le(!re),Ze()},onMenuTagClick:function(e){e.target.classList.toggle("change"),Y(!1===D),z(!1===P)},isMenuOpened:P,onCloseMenu:Ze,darkBackgroundHeader:D,onSignOut:function(){localStorage.removeItem("articles"),localStorage.removeItem("query"),F(),k([]),Ie(null),h(!1),De.push("/")},loggedIn:p,pathName:He,currentUser:o}),Object(n.jsx)("main",{className:"content",children:Object(n.jsx)(M,{loggedIn:p,savedNews:g,articles:N,onSearch:function(e){Le(!0),Z.getNews("670ce72cce9c46b28214a8e2e4e4f7da",e,$e,Fe,100).then((function(t){Le(!1),localStorage.removeItem("articles"),k(t.articles),t.articles.length>0?Ie(!0):Ie(!1),Ue(e),localStorage.setItem("articles",JSON.stringify(t.articles)),localStorage.setItem("query",e)})).catch((function(e){Le(!1),Ie(!1)}))},searchSuccess:ye,preloaderIsOn:Ee,onToggleClick:function(e){var t={keyword:qe,title:e.title,text:e.description,date:e.publishedAt,source:e.source.name,link:e.url,image:e.urlToImage},a=G($()),n=g.find((function(t){return t.title===e.title}));n?W.deleteSavedNews(n._id).then((function(){return a.getSavedNews()})).then((function(e){return _(e)})):W.saveNews(t).then((function(){return a.getSavedNews()})).then((function(e){return _(e)}))},currentUser:o})}),Object(n.jsx)(U,{})]}),Object(n.jsxs)("section",{className:"popup-forms",children:[Object(n.jsx)(K,{name:"card-del",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",savebtn:"\u0414\u0430"}),Object(n.jsx)(ee,{isOpen:C,onClose:We,onRedirect:Ge,onClick:Ye,onLogin:function(e,t){Be(!0),function(e,t){return fetch("".concat(H,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))})).catch((function(e){throw console.log(e,"\u041e\u0448\u0438\u0431\u043aa \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043d\u0430 signin"),new Error(e)}))}(e,t).then((function(e){var t;t=e.token,localStorage.setItem(J,t),xe(""),We(),h(!0),Be(!1)})).catch((function(e){xe("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443."),Be(!1)}))},messageOnLogin:_e,isSubmitting:Ve}),Object(n.jsx)(X,{isOpen:E,onClose:We,onRedirect:Ge,onClick:Ye,onRegister:function(e,t,a){(function(e,t,a){return fetch("".concat(H,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:a})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))})).catch((function(e){throw console.log(e,"\u041e\u0448\u0438\u0431\u043aa \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043d\u0430 signup"),new Error(e)}))})(e,t,a).then((function(){We(),Se(!0),be(!0),Oe("")})).catch((function(e){be(!0),Se(!1),Oe("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.")}))},messageOnRegister:me,isSubmitting:Ve}),Object(n.jsx)(te,{success:ke,isOpen:je,onClose:We,onRedirect:Ge,onClick:Ye})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(r.a,{children:Object(n.jsx)(ce,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[57,1,2]]]);
//# sourceMappingURL=main.a137fa05.chunk.js.map